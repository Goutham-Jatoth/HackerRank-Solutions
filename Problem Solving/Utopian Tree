def utopianTree(n):
    # Write your code here
    if n == 0:
        return 1

    doubleCycle = n if n % 2 else n - 1
    treeLength = sum(2** (i+1) for i in range((doubleCycle//2)+1))
    
    return treeLength if n % 2 else treeLength + 1
